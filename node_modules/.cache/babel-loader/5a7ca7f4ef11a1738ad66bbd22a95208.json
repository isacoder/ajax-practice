{"ast":null,"code":"import _objectSpread from \"/home/isa/dev/ajax-practice/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/isa/dev/ajax-practice/src/containers/Blog/Posts/Posts.js\";\nimport React, { Component } from 'react';\nimport Post from '../../../components/Post/Post';\nimport axios from '../../../axios';\nimport './Posts.css'; //import { Link } from 'react-router-dom'\n\nimport { Route } from 'react-router-dom';\nimport FullPost from '../FullPost/FullPost';\n\nclass Posts extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      posts: [],\n      selectedPostId: null,\n      error: false\n    };\n\n    this.postSelectedHandler = id => {\n      //this.setState({selectedPostId:id});\n      this.props.history.push({\n        pathname: '/posts/' + id\n      });\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    axios.get('/posts').then(response => {\n      const posts = response.data.slice(0, 4);\n      const updatedPosts = posts.map(post => {\n        return _objectSpread({}, post, {\n          author: 'Max'\n        });\n      });\n      this.setState({\n        posts: updatedPosts\n      });\n    }).catch(error => {\n      this.setState({\n        error: true\n      });\n    });\n  }\n\n  render() {\n    let posts = React.createElement(\"p\", {\n      style: {\n        textAlign: 'center',\n        color: 'red'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \" Something went wrong!!\");\n\n    if (!this.state.error) {\n      posts = this.state.posts.map(post => {\n        return (// <Link to={'/' + post.id} key={post.id}>\n          React.createElement(Post, {\n            key: post.id,\n            title: post.title,\n            author: post.author,\n            clicked: () => this.postSelectedHandler(post.id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          }) //</Link>\n\n        );\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"Posts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, posts), React.createElement(Route, {\n      path: this.props.match.url + '/:id',\n      exact: true,\n      component: FullPost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Posts;","map":{"version":3,"sources":["/home/isa/dev/ajax-practice/src/containers/Blog/Posts/Posts.js"],"names":["React","Component","Post","axios","Route","FullPost","Posts","state","posts","selectedPostId","error","postSelectedHandler","id","props","history","push","pathname","componentDidMount","console","log","get","then","response","data","slice","updatedPosts","map","post","author","setState","catch","render","textAlign","color","title","match","url"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,+BAAjB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAO,aAAP,C,CACA;;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAOC,QAAP,MAAqB,sBAArB;;AAEA,MAAMC,KAAN,SAAoBL,SAApB,CAA8B;AAAA;AAAA;AAAA,SAE5BM,KAF4B,GAEpB;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,cAAc,EAAE,IAFV;AAGNC,MAAAA,KAAK,EAAE;AAHD,KAFoB;;AAAA,SAQ5BC,mBAR4B,GAQLC,EAAD,IAAQ;AAC5B;AACA,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB;AAACC,QAAAA,QAAQ,EAAC,YAAYJ;AAAtB,OAAxB;AACD,KAX2B;AAAA;;AAa5BK,EAAAA,iBAAiB,GAAI;AACnBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAjB;AACAV,IAAAA,KAAK,CAACiB,GAAN,CAAU,QAAV,EACGC,IADH,CACQC,QAAQ,IAAI;AAChB,YAAMd,KAAK,GAAGc,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoB,CAApB,EAAsB,CAAtB,CAAd;AACA,YAAMC,YAAY,GAAGjB,KAAK,CAACkB,GAAN,CAAUC,IAAI,IAAI;AACrC,iCACKA,IADL;AAEEC,UAAAA,MAAM,EAAE;AAFV;AAID,OALoB,CAArB;AAMA,WAAKC,QAAL,CAAc;AAACrB,QAAAA,KAAK,EAAEiB;AAAR,OAAd;AACD,KAVH,EAWGK,KAXH,CAWSpB,KAAK,IAAI;AACd,WAAKmB,QAAL,CAAc;AAACnB,QAAAA,KAAK,EAAC;AAAP,OAAd;AACD,KAbH;AAcD;;AAEDqB,EAAAA,MAAM,GAAI;AAER,QAAIvB,KAAK,GAAG;AAAG,MAAA,KAAK,EAAE;AAACwB,QAAAA,SAAS,EAAC,QAAX;AAAqBC,QAAAA,KAAK,EAAE;AAA5B,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAZ;;AAEA,QAAG,CAAC,KAAK1B,KAAL,CAAWG,KAAf,EAAsB;AACpBF,MAAAA,KAAK,GAAG,KAAKD,KAAL,CAAWC,KAAX,CAAiBkB,GAAjB,CAAqBC,IAAI,IAAI;AACnC,eACE;AACE,8BAAC,IAAD;AACE,YAAA,GAAG,EAAEA,IAAI,CAACf,EADZ;AAEE,YAAA,KAAK,EAAEe,IAAI,CAACO,KAFd;AAGE,YAAA,MAAM,EAAEP,IAAI,CAACC,MAHf;AAIE,YAAA,OAAO,EAAE,MAAM,KAAKjB,mBAAL,CAAyBgB,IAAI,CAACf,EAA9B,CAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CAQE;;AARF;AAUD,OAXO,CAAR;AAYD;;AAED,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAS,MAAA,SAAS,EAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGJ,KADH,CADF,EAIE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAE,KAAKK,KAAL,CAAWsB,KAAX,CAAiBC,GAAjB,GAAuB,MAApC;AAA4C,MAAA,KAAK,MAAjD;AAAkD,MAAA,SAAS,EAAE/B,QAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF;AAQD;;AA1D2B;;AA8D9B,eAAeC,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport Post from '../../../components/Post/Post';\nimport axios from '../../../axios';\nimport './Posts.css';\n//import { Link } from 'react-router-dom'\nimport { Route } from 'react-router-dom';\nimport FullPost from '../FullPost/FullPost';\n\nclass Posts extends Component {\n\n  state = {\n    posts: [],\n    selectedPostId: null,\n    error: false,\n  }\n\n  postSelectedHandler = (id) => {\n    //this.setState({selectedPostId:id});\n    this.props.history.push({pathname:'/posts/' + id})\n  }\n\n  componentDidMount () {\n    console.log(this.props);\n    axios.get('/posts')\n      .then(response => {\n        const posts = response.data.slice(0,4);\n        const updatedPosts = posts.map(post => {\n          return {\n            ...post,\n            author: 'Max'\n          }\n        })\n        this.setState({posts: updatedPosts});\n      })\n      .catch(error => {\n        this.setState({error:true});\n      });\n  }\n\n  render () {\n\n    let posts = <p style={{textAlign:'center', color: 'red'}}> Something went wrong!!</p> ;\n\n    if(!this.state.error) {\n      posts = this.state.posts.map(post => {\n        return (\n          // <Link to={'/' + post.id} key={post.id}>\n            <Post\n              key={post.id}\n              title={post.title}\n              author={post.author}\n              clicked={() => this.postSelectedHandler(post.id)}\n            />\n          //</Link>\n        )\n      });\n    }\n\n    return (\n      <div>\n        <section className=\"Posts\">\n          {posts}\n        </section>\n        <Route path={this.props.match.url + '/:id'} exact component={FullPost} />\n      </div>\n    );\n  }\n\n}\n\nexport default Posts;\n"]},"metadata":{},"sourceType":"module"}